{"_id":"_design/statistics","language":"javascript","views":{"statistics":{"map":"function (doc) {\n        emit([doc.type], 1);\n        switch (doc.type) {\n        case \"UserProfile\":\n          emit([doc.type, \"authProvider\", doc.authProvider], 1);\n          if (doc.account && doc.account.activationKey) {\n            emit([doc.type, \"activationPending\"], 1);\n          }\n          break;\n        case \"Room\":\n          if (doc.closed) {\n            emit([doc.type, \"closed\"], 1);\n          }\n          break;\n        case \"ContentGroup\":\n          if (doc.published) {\n            emit([doc.type, \"published\"], 1);\n          }\n          emit([doc.type, \"publishingMode\", doc.publishingMode], 1);\n          if (doc.templateId) {\n            emit([doc.type, \"fromTemplate\"], 1);\n          }\n          break;\n        case \"Content\":\n          emit([doc.type, \"format\", doc.format], 1);\n          if (doc.templateId) {\n            emit([doc.type, \"fromTemplate\"], 1);\n          }\n          break;\n        case \"ContentGroupTemplate\":\n          emit([doc.type, \"language\", doc.language], 1);\n          emit([doc.type, \"license\", doc.license], 1);\n          break;\n        case \"Answer\":\n          emit([doc.type, \"format\", doc.format], 1);\n          break;\n        case \"ViolationReport\":\n          emit([doc.type, \"reason\", doc.reason], 1);\n          emit([doc.type, \"decision\", doc.decision], 1);\n          break;\n        case \"Deletion\":\n          emit([doc.deletedType, \"deleted\"], doc.count || 1);\n          break;\n        }\n      }","reduce":"_sum"},"unique_room_owners":{"map":"function (doc) {\n        if (doc.type === \"Room\") {\n          emit(doc.ownerId, 1);\n        }\n      }","reduce":"_count"}}}
